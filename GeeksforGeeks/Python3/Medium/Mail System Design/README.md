# Mail System Design
## Medium
<div class="problems_problem_content__Xm_eO"><p><span style="font-size:18px">Hattori is very much inspired by the way GMAIL works. He decides to build his own simple version of GMAIL. He divides the mails into 3 categories ,namely : <strong>UNREAD</strong> , <strong>READ</strong> and <strong>TRASH</strong>.<br>UNREAD:the messages that haven't been read.<br>READ:The messages that is read by the user.<br>TRASH: The messages deleted by the user.<br>Now, At any point of time, The user can READ an UNREAD message , Move an UNREAD message to TRASH , Move a READ message to TRASH or restore a deleted message back to READ category.Now , Hattori requires your help in determining the messages left in all the categories aligned in the order of their arrival in that category.<br>Formally: You are given N messages , with ID from 1 to N. Initially all the messages are in the UNREAD section of the mail.Now, Q queries are given in the form as shown below:<br><strong>1 X</strong> : Move the message with ID X from <strong>UNREAD to READ.</strong><br><strong>2 X</strong> : Move the message with ID X from <strong>READ to TRASH.<br>3 X</strong> : Move the message with ID X from <strong>UNREAD to TRASH.</strong><br><strong>4 X</strong> : Move the message with ID X from <strong>TRASH to READ.</strong><br>Given that all the queries are valid, Help Hattori in Determining the messages in all the 3 sections. There are <strong>N</strong> mails initially having id's from <strong>1 to N</strong>. Then there are total <strong>Q</strong> querieseach in the form mentioned in the question. The queries are mentioned in a list <strong>query</strong> where <strong>ith</strong> query is represented by <strong>(2*i)</strong>thand <strong>(2*i+1)</strong>th value of the list.</span></p><p><strong><span style="font-size:18px">Example 1:</span></strong></p><pre><span style="font-size:18px"><strong>Input:</strong> N = 10, Q = 7query = {1, 2, 1, 5, 1, 7, 1, 9,         2, 5, 2, 7, 4, 5}<strong>Output:</strong> UNREAD - 1 3 4 6 8 10READ - 2 9 5TRASH - 7<strong>Explaination:</strong> Initial:UNREAD section: 1 2 3 4 5 6 7 8 9 10READ section : EMPTYTRASH section : EmptyQuery 1 : 1 2UNREAD section: 1 3 4 5 6 7 8 9 10READ section : 2TRASH section : EmptyQuery 2 : 1 5UNREAD section: 1 3 4 6 7 8 9 10READ section : 2 5TRASH section : EmptyQuery 3 : 1 7UNREAD section: 1 3 4 6 8 9 10READ section : 2 5 7TRASH section : EmptyQuery 4 : 1 9UNREAD section: 1 3 4 6 8 10READ section : 2 5 7 9TRASH section : EmptyQuery 5 : 2 5UNREAD section: 1 3 4 6 8 10READ section : 2 7 9TRASH section : 5Query 6 : 2 7UNREAD section: 1 3 4 6 8 10READ section : 2 9TRASH section : 5 7Query 7 : 4 5UNREAD section: 1 3 4 6 8 10READ section : 2 9 5TRASH section : 7</span></pre><p><span style="font-size:18px"><strong>Your Task:</strong><br>You do not need to read input or print anyting. Your task is to complete the function <strong>mailDesign()</strong> which takes N, Q and query as input parameters and returns a list containing the starting pointer of the three linked lists unread, read and trash. If any linked list is empty pass a null pointer as the head of that list.</span></p><p><span style="font-size:18px"><strong>Expected Time Complexity:</strong> O(Q*N)<br><strong>Expected Auxiliary Space:</strong> O(N)</span></p><p><span style="font-size:18px"><strong>Constraints:</strong><br>1 &lt; N, Q &lt; 1000</span></p></div>